# BattleUnitTurnReason枚举

BattleUnitTurnReason枚举是VCMI战斗系统中单位获得回合的原因类型定义，用于标识战斗中单位获得行动机会的不同原因。

## 枚举定义

```cpp
enum class BattleUnitTurnReason : int8_t
{
    /// 单位因成为回合队列中的第一个单位而获得回合
    TURN_QUEUE,
    /// 单位因士气触发而获得回合
    MORALE,
    /// 单位因英雄施法而在活跃状态下重新获得回合
    HERO_SPELLCAST,
    /// 单位因拥有无需消耗回合即可施法的能力而获得回合
    UNIT_SPELLCAST,
    /// 单位因自动动作而获得回合，玩家不能为此单位选择动作
    AUTOMATIC_ACTION
};
```

## 功能说明

BattleUnitTurnReason是VCMI战斗系统中用于标识单位获得行动回合原因的枚举类型。在战斗过程中，单位可能因为多种原因获得行动机会，不仅仅是常规的回合轮转。这个枚举定义了所有可能让单位获得行动权的情况，有助于战斗系统和用户界面正确地通知玩家发生了什么情况。

## 枚举值

- `TURN_QUEUE`: 单位因成为回合队列中的第一个单位而获得回合。这是最常见的获得回合的方式，表示轮到了该单位的正常行动时间。
- `MORALE`: 单位因士气触发而获得回合。某些生物具有正面士气时，可以在同一回合内进行多次行动，这会在战斗中产生额外的回合。
- `HERO_SPELLCAST`: 单位因英雄施法而在活跃状态下重新获得回合。当英雄对当前行动的单位施放某些法术时，该单位可能会获得额外的回合。
- `UNIT_SPELLCAST`: 单位因拥有无需消耗回合即可施法的能力而获得回合。某些单位具有施法能力且不需要消耗自身回合，这可能会导致额外的回合。
- `AUTOMATIC_ACTION`: 单位因自动动作而获得回合，玩家不能为此单位选择动作。这种情况表示单位将执行预设的自动动作，而非由玩家控制。

## 设计说明

BattleUnitTurnReason枚举在战斗系统中起到关键作用，它帮助区分不同类型的回合获取事件，这对战斗逻辑和用户界面反馈都很重要。通过明确标识单位为何获得回合，系统可以提供更准确的战斗信息给玩家，并确保游戏逻辑正确处理各种特殊情况。